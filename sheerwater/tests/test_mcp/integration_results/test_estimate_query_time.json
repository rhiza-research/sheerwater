{
  "test_name": "test_estimate_query_time",
  "timestamp": "2026-02-11T16:02:25.063491",
  "prompt": "Using sheerwater, estimate how long it would take to compare ECMWF and FuXi for Kenya precipitation",
  "response": "Based on my exploration of the sheerwater codebase, here's an estimate for comparing ECMWF and FuXi for Kenya precipitation:\n\n## Time Estimate Summary\n\n| Scenario | Estimated Time |\n|----------|---------------|\n| **Cached (Kenya is pre-cached)** | **< 1 minute** |\n| **First run (1 year, e.g., 2020)** | ~3-5 minutes |\n| **Full overlap period (2016-2022)** | ~35-40 minutes |\n\n## Key Parameters\n\n- **Region**: Kenya (~500 grid cells - small, fast to compute)\n- **Common period**: 2016-01-03 to 2022-02-02 (FuXi's limit)\n- **Aggregation**: Must use 7-day (FuXi's only option)\n- **Grid**: global1_5 (1.5\u00b0 resolution)\n- **Ground truth**: CHIRPS v3 recommended\n\n## How to Run\n\nThe comparison uses `compare_models()` from `sheerwater/mcp/tools/evaluation.py`:\n\n```python\nresult = await compare_models(\n    forecasts=[\"ecmwf_ifs_er\", \"fuxi\"],\n    truth=\"chirps_v3\",\n    metric=\"mae\",  # or \"rmse\", \"bias\"\n    region=\"Kenya\",\n    start_time=\"2020-01-01\",\n    end_time=\"2020-12-31\",\n    agg_days=7\n)\n```\n\n## Computation Basis\n\nThe time estimate comes from `sheerwater/mcp/tools/evaluation.py:273-299`:\n- Base rate: 30 seconds per 10,000 grid cells\n- Kenya: ~500 cells \u2192 ~1.5 minutes per model per metric\n- Two models (ECMWF + FuXi) \u2192 ~3 minutes + data loading overhead\n\n## Note on Caching\n\nKenya precipitation comparisons are listed as \"common queries\" in the test configuration (`sheerwater/tests/test_mcp/conftest.py:93-112`), so cached results may already exist in the Nuthatch cache system, making subsequent runs nearly instant.\n",
  "success": true
}